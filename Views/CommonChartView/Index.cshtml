@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860

*@
@{
    ViewData["Title"] = "Index";
}
<!DOCTYPE html>

<script src="https://canvasjs.com/assets/script/canvasjs.min.js">
</script>
<div id="chartContainer"></div>

<script type="text/javascript">

    window.onload = function () {
        var mydata = @Html.Raw(@ViewBag.DataPoints)
        var dataPoints = []
                for(var i = 0 ; i< mydata.length; i++){
                    dataPoints.push({
                        y : mydata[i].X,
                        label : mydata[i].Y
                    });
                }
        var chart = new CanvasJS.Chart("chartContainer", {
            theme: "light2",
            animationEnabled: true,
            title: {
                text: "@ViewBag.ChartTitle"
            },
            subtitles: [
                { text: "@ViewBag.ChartSubTitle" }
            ],
            data: [
            {
                type: "@ViewBag.ChartType", //change type to bar, line, area, pie, etc
                dataPoints :dataPoints
            }
            ]
        });
        console.log(dataPoints)

        chart.render();
    };
</script>

